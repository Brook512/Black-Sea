é‡å‰‘å’Œåˆºå‰‘

# ä¸€ã€å¼•æ“çš„æ ¸å¿ƒ

1. ç‰¹æ€§
æ ‘çŠ¶æ•°æ®ç»“æ„â€‹â€‹ï¼šæ‰€æœ‰èŠ‚ç‚¹ä»¥æ ‘çŠ¶ç»“æ„ç»„ç»‡ï¼Œæ ¹èŠ‚ç‚¹é€šå¸¸æ˜¯ MainLoop æˆ– SceneTreeï¼Œæ¯ä¸ªèŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹å½¢æˆä¸€ä¸ªåˆ†æ”¯ã€‚ï¼ˆå­èŠ‚ç‚¹ç»§æ‰¿çˆ¶èŠ‚ç‚¹çš„å˜æ¢ï¼ˆä½ç½®ã€æ—‹è½¬ç­‰ï¼‰ï¼‰
â€‹â€‹é€å¸§éå†â€‹â€‹ï¼šå¼•æ“æ¯å¸§éå†åœºæ™¯æ ‘ï¼ŒæŒ‰å›ºå®šé¡ºåºï¼ˆç‰©ç†â†’è¾“å…¥â†’é€»è¾‘â†’æ¸²æŸ“ï¼‰è§¦å‘èŠ‚ç‚¹çš„ _process()ã€_physics_process() ç­‰æ–¹æ³•ã€‚
â€‹â€‹èŠ‚ç‚¹ç”Ÿå‘½å‘¨æœŸç®¡ç†â€‹â€‹ï¼šå¼•æ“è‡ªåŠ¨å¤„ç†èŠ‚ç‚¹çš„åˆ›å»ºã€é”€æ¯ã€æŒ‚è½½ï¼ˆ_ready()ï¼‰å’Œå¸è½½ï¼ˆ_exit_tree()ï¼‰ã€‚

2. èŠ‚ç‚¹çš„åŸºç¡€åŠŸèƒ½ï¼ˆæ‰“ä¸‹åŸºç¡€ï¼‰
æ‰€æœ‰èŠ‚ç‚¹éƒ½å…·å¤‡ä»¥ä¸‹ç‰¹æ€§ï¼š
åç§°ã€‚
å¯ç¼–è¾‘çš„å±æ€§ã€‚
æ¯å¸§éƒ½å¯ä»¥æ¥æ”¶å›è°ƒä»¥è¿›è¡Œæ›´æ–°ã€‚
ä½ å¯ä»¥ä½¿ç”¨æ–°çš„å±æ€§å’Œå‡½æ•°æ¥è¿›è¡Œæ‰©å±•ã€‚
ä½ å¯ä»¥å°†å®ƒä»¬æ·»åŠ ä¸ºå…¶ä»–èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚
æœ€åä¸€ä¸ªç‰¹å¾å¾ˆé‡è¦ã€‚èŠ‚ç‚¹ä¼šç»„æˆä¸€æ£µæ ‘

3. ä¿¡å·
ä¿¡å·çš„ä½¿ç”¨åˆ†ä¸ºä¸¤å—
ä¿¡å·åˆ›å»ºæ–¹ï¼Œè´Ÿè´£å®šä¹‰ä¿¡å· signal deadï¼Œä»¥åŠå¹¿æ’­ä¿¡å· dead.emit
ä¿¡å·æ¥æ”¶æ–¹ï¼Œè´Ÿè´£è¿æ¥åˆ›å»ºæ–¹çš„ä¿¡å· dead.connect(func)ï¼Œ ä»¥åŠåˆ›å»ºå›è°ƒå‡½æ•°

4. 


# äºŒã€è®¾è®¡æ ¸å¿ƒ
ä»¥é‡å‡»ï¼Œä¼¤å®³æ•°å€¼ä¸ºæ ¸å¿ƒï¼Œä¼˜åŒ–æˆ˜æ–—ä½“éªŒçš„è®¾è®¡
æŒ¥ç çš„é€Ÿåº¦ã€èŒƒå›´ã€ä¼¤å®³
æ ¼æŒ¡çš„å¸§æ•°é•¿çŸ­ã€æ ¼æŒ¡åå‡»ä¼¤å®³
é—ªé¿çš„å¸§æ•°é•¿çŸ­ã€é—ªé¿ä¼¤å®³

æ ¸å¿ƒæœºåˆ¶ï¼šè¡”æ¥ï¼ˆæ ¼æ–—æ¸¸æˆï¼‰ã€åœ¨é‡å‡»ä¹‹ååˆé€‚çš„æ—¶æœºä¼šæ¥è¶…é‡å‡»ï¼Œï¼ˆåšå¼ˆç‚¹åœ¨å“ªï¼Ÿï¼‰ è“„åŠ¿ä¸å‡ºåˆ€æ‹†å¼€æ¥
è½»å‰‘æœ‰å‡ºè¡€
å‰‘ç›¾åœ¨æ”»å‡»ä»»ä½•æ—¶å€™éƒ½å¯ä»¥ä¸¾ç›¾ï¼Œä½†æ˜¯æ²¡æœ‰åå‡»æ•ˆæœ

éŸ³ä¹æ˜¯å…³é”®
é‡å‰‘å…‹å‰‘ç›¾
å‰‘ç›¾å…‹è½»å‰‘
è½»å‰‘å…‹é‡å‰‘


# ä¸‰ã€ç´ ææ¥æº
itch.io
kenny asset
sketch fab
craftpix

# å››ã€è¾“å…¥
## 1. inputevent
å¦‚æœè¯¥ Viewport å†…åµŒäº† Windowï¼Œåˆ™è¯¥ Viewport ä¼šå°è¯•ä»¥çª—å£ç®¡ç†å™¨çš„èº«ä»½è§£é‡Šäº‹ä»¶ï¼ˆä¾‹å¦‚å¯¹ Window è¿›è¡Œå¤§å°è°ƒæ•´å’Œç§»åŠ¨ï¼‰ã€‚

æ¥ä¸‹æ¥ï¼Œå¦‚æœå­˜åœ¨èšç„¦çš„å†…åµŒ Windowï¼Œåˆ™ä¼šå°†äº‹ä»¶å‘é€ç»™è¯¥ Windowï¼Œåœ¨è¯¥çª—å£çš„ Viewport ä¸­è¿›è¡Œå¤„ç†ï¼Œç„¶åå°†äº‹ä»¶æ ‡è®°ä¸ºå·²å¤„ç†ã€‚å¦‚æœä¸å­˜åœ¨èšç„¦çš„å†…åµŒ Windowï¼Œåˆ™ä¼šå°†äº‹ä»¶å‘é€ç»™å½“å‰è§†å£ä¸­çš„èŠ‚ç‚¹ï¼Œé¡ºåºå¦‚ä¸‹ã€‚

é¦–å…ˆä¼šè°ƒç”¨æ ‡å‡†çš„ Node._input() å‡½æ•°ï¼Œè°ƒç”¨åªä¼šå‘ç”Ÿåœ¨è¦†ç›–äº†è¿™ä¸ªå‡½æ•°ï¼ˆå¹¶ä¸”è¾“å…¥å¤„ç†æ²¡æœ‰é€šè¿‡ Node.set_process_input() ç¦ç”¨ï¼‰çš„èŠ‚ç‚¹ä¸Šã€‚å¦‚æœæŸä¸ªå‡½æ•°æ¶ˆè€—äº†è¯¥äº‹ä»¶ï¼Œå¯ä»¥è°ƒç”¨ Viewport.set_input_as_handled()ï¼Œäº‹ä»¶å°±ä¸ä¼šå†ç»§ç»­ä¼ æ’­ã€‚è¿™æ ·å°±ç¡®ä¿ä½ å¯ä»¥åœ¨ GUI ä¹‹å‰è¿‡æ»¤è‡ªå·±æ„Ÿå…´è¶£çš„äº‹ä»¶ã€‚å¯¹äºæ¸¸æˆè¾“å…¥ï¼ŒNode._unhandled_input() é€šå¸¸æ›´åˆé€‚ï¼Œå› ä¸ºè¿™ä¸ªå‡½æ•°èƒ½å¤Ÿè®© GUI æ‹¦æˆªäº‹ä»¶ã€‚

ç„¶åï¼Œå®ƒä¼šå°è¯•å°†è¾“å…¥æä¾›ç»™ GUIï¼Œå¹¶æŸ¥çœ‹æ˜¯å¦æœ‰æ§ä»¶å¯ä»¥æ¥æ”¶å®ƒã€‚å¦‚æœæœ‰ï¼Œè¯¥ Control å°†é€šè¿‡è™šå‡½æ•° Control._gui_input() è¢«è°ƒç”¨å¹¶å‘å‡ºâ€œgui_inputâ€ä¿¡å·ï¼ˆæ­¤å‡½æ•°å¯é€šè¿‡ç»§æ‰¿å®ƒçš„è„šæœ¬é‡æ–°å®ç°ï¼‰ã€‚å¦‚æœè¯¥æ§ä»¶æƒ³â€œæ¶ˆè€—â€è¯¥äº‹ä»¶ï¼Œå®ƒå°†è°ƒç”¨ Control.accept_event() é˜»æ­¢äº‹ä»¶çš„ä¼ æ’­ã€‚è¯·ä½¿ç”¨ Control.mouse_filter å±æ€§æ¥æ§åˆ¶ Control æ˜¯å¦é€šè¿‡ Control._gui_input() å›è°ƒæ¥æ”¶é¼ æ ‡äº‹ä»¶çš„é€šçŸ¥ï¼Œä»¥åŠæ˜¯å¦è¿›ä¸€æ­¥ä¼ æ’­è¿™äº›äº‹ä»¶ã€‚

å¦‚æœäº‹ä»¶åˆ°ç›®å‰ä¸ºæ­¢è¿˜æ²¡æœ‰è¢«æ¶ˆè€—ï¼Œå¹¶ä¸”è¦†ç›–äº† Node._shortcut_input() å‡½æ•°ï¼ˆå¹¶ä¸”æ²¡æœ‰é€šè¿‡ Node.set_process_shortcut_input() ç¦ç”¨ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨è¿™ä¸ªå›è°ƒã€‚åªæœ‰ InputEventKeyã€InputEventShortcut å’Œ InputEventJoypadButton æ‰ä¼šå¦‚æ­¤ã€‚å¦‚æœæŸä¸ªå‡½æ•°æ¶ˆè€—äº†è¯¥äº‹ä»¶ï¼Œå®ƒå¯ä»¥è°ƒç”¨ Viewport.set_input_as_handled()ï¼Œé‚£ä¹ˆäº‹ä»¶å°±ä¸ä¼šå†ç»§ç»­ä¼ æ’­ã€‚å¿«æ·é”®è¾“å…¥å›è°ƒä¸»è¦ç”¨äºå¤„ç†å¿«æ·é”®ç›¸å…³çš„äº‹ä»¶ã€‚

å¦‚æœäº‹ä»¶åˆ°ç›®å‰ä¸ºæ­¢è¿˜æ²¡æœ‰è¢«æ¶ˆè€—ï¼Œå¹¶ä¸” Node._unhandled_key_input() å‡½æ•°å·²è¢«è¦†ç›–ï¼ˆå¹¶ä¸”æ²¡æœ‰é€šè¿‡ Node.set_process_unhandled_key_input() ç¦ç”¨ï¼‰ï¼Œé‚£ä¹ˆè¯¥å›è°ƒå°†è¢«è°ƒç”¨ã€‚ä»…å½“äº‹ä»¶æ˜¯ InputEventKey æ—¶æ‰ä¼šå¦‚æ­¤ã€‚å¦‚æœæŸä¸ªå‡½æ•°æ¶ˆè€—äº†è¯¥äº‹ä»¶ï¼Œå®ƒå¯ä»¥è°ƒç”¨ Viewport.set_input_as_handled()ï¼Œäº‹ä»¶å°±ä¸ä¼šå†ç»§ç»­ä¼ æ’­ã€‚æœªå¤„ç†æŒ‰é”®è¾“å…¥å›è°ƒä¸»è¦ç”¨äºå¤„ç†æŒ‰é”®ç›¸å…³çš„äº‹ä»¶ã€‚

å¦‚æœäº‹ä»¶åˆ°ç›®å‰ä¸ºæ­¢è¿˜æ²¡æœ‰è¢«æ¶ˆè€—ï¼Œå¹¶ä¸”è¦†ç›–äº† Node._unhandled_input() å‡½æ•°ï¼ˆå¹¶ä¸”æ²¡æœ‰é€šè¿‡ Node.set_process_unhandled_input() ç¦ç”¨ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨è¿™ä¸ªå›è°ƒã€‚å¦‚æœæŸä¸ªå‡½æ•°æ¶ˆè€—äº†è¯¥äº‹ä»¶ï¼Œå®ƒå¯ä»¥è°ƒç”¨ Viewport.set_input_as_handled()ï¼Œäº‹ä»¶å°±ä¸ä¼šå†ç»§ç»­ä¼ æ’­ã€‚æœªå¤„ç†è¾“å…¥å›è°ƒä¸»è¦ç”¨äºå¤„ç†å…¨å±æ¸¸æˆäº‹ä»¶ï¼Œå› æ­¤ GUI å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶ä¸ä¼šæ”¶åˆ°ã€‚

å¦‚æœåˆ°ç›®å‰ä¸ºæ­¢æ²¡æœ‰èŠ‚ç‚¹æƒ³è¦è¯¥äº‹ä»¶ï¼Œå¹¶ä¸”å¯¹è±¡æ‹¾å–å·²æ‰“å¼€ï¼Œåˆ™è¯¥äº‹ä»¶å°†ç”¨äºå¯¹è±¡æ‹¾å–ã€‚å¯¹äºæ ¹è§†å£ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®è®¾ç½®ä¸­å¯ç”¨è¯¥è®¾ç½®ã€‚åœ¨ 3D åœºæ™¯çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå°† Camera3D åˆ†é…ç»™è¯¥ Viewportï¼Œåˆ™ä¼šå‘ç‰©ç†ä¸–ç•ŒæŠ•å°„ä¸€æ¡å°„çº¿ï¼ˆä»¥ä»ç‚¹å‡»å¼€å§‹çš„å°„çº¿æ–¹å‘ï¼‰ã€‚å¦‚æœè¯¥å°„çº¿å‡»ä¸­ç‰©ä½“ï¼Œå®ƒå°†è°ƒç”¨ç›¸å…³ç‰©ç†å¯¹è±¡ä¸­çš„ CollisionObject3D._input_event() å‡½æ•°ã€‚å¯¹äº 2D åœºæ™¯ï¼Œä»æ¦‚å¿µä¸Šè®²ï¼ŒCollisionObject2D._input_event() ä¹Ÿä¼šå‘ç”ŸåŒæ ·çš„æƒ…å†µã€‚
## 2. 


# äº”ã€UI
1. UIä¿¡å·çš„ä¼ æ’­
Godot é€šè¿‡è§†å£ä¼ æ’­è¾“å…¥äº‹ä»¶ã€‚æ¯ä¸ª Viewport è´Ÿè´£å°† InputEventä¼ æ’­åˆ°å…¶å­èŠ‚ç‚¹ã€‚
ç”±äº SceneTree.root æ˜¯ä¸€ä¸ª Windowï¼Œå› æ­¤æ¸¸æˆä¸­çš„æ‰€æœ‰ UI å…ƒç´ éƒ½å·²è‡ªåŠ¨æ‰§è¡Œæ­¤ä½œã€‚
é€šè¿‡è°ƒç”¨ SceneTree å°†è¾“å…¥äº‹ä»¶ä»æ ¹èŠ‚ç‚¹ä¼ æ’­åˆ°æ‰€æœ‰å­èŠ‚ç‚¹Node._inputã€‚ç‰¹åˆ«æ˜¯å¯¹äº UI å…ƒç´ ï¼Œè¦†ç›–è™šæ‹Ÿæ–¹æ³• _gui_input æ›´æœ‰æ„ä¹‰ï¼Œè¯¥æ–¹æ³•ä¼šç­›é€‰æ‰ä¸ç›¸å…³çš„è¾“å…¥äº‹ä»¶ï¼Œä¾‹å¦‚é€šè¿‡æ£€æŸ¥ z é¡ºåºã€mouse_filterã€ç„¦ç‚¹æˆ–äº‹ä»¶æ˜¯å¦ä½äºæ§ä»¶çš„è¾¹ç•Œæ¡†å†…ã€‚

è°ƒç”¨ accept_eventï¼Œä»¥ä¾¿æ²¡æœ‰å…¶ä»–èŠ‚ç‚¹æ”¶åˆ°äº‹ä»¶ã€‚æ¥å—è¾“å…¥åï¼Œå®ƒå°†è¢«å¤„ç†ï¼Œå› æ­¤Node._unhandled_inputä¸ä¼šå¤„ç†å®ƒã€‚

åªæœ‰ä¸€ä¸ª Control èŠ‚ç‚¹å¯ä»¥å¤„äºç„¦ç‚¹çŠ¶æ€ã€‚åªæœ‰ç„¦ç‚¹èŠ‚ç‚¹æ‰ä¼šæ¥æ”¶äº‹ä»¶ã€‚è¦è·å¾—ç„¦ç‚¹ï¼Œè¯·è‡´ç”µ grab_focusã€‚å½“å¦ä¸€ä¸ªèŠ‚ç‚¹æŠ“ä½æ§åˆ¶èŠ‚ç‚¹æ—¶ï¼Œæˆ–è€…å¦‚æœæ‚¨éšè—äº†ç„¦ç‚¹ä¸­çš„èŠ‚ç‚¹ï¼Œåˆ™æ§åˆ¶èŠ‚ç‚¹ä¼šå¤±å»ç„¦ç‚¹ã€‚

å°† mouse_filter è®¾ç½®ä¸º MOUSE_FILTER_IGNORE ä»¥æŒ‡ç¤º Control èŠ‚ç‚¹å¿½ç•¥é¼ æ ‡æˆ–è§¦æ‘¸äº‹ä»¶ã€‚å¦‚æœæ‚¨åœ¨æŒ‰é’®é¡¶éƒ¨æ”¾ç½®å›¾æ ‡ï¼Œæ‚¨å°†éœ€è¦å®ƒã€‚

2. èƒŒåŒ…æœºåˆ¶ ï¼ˆè·³è¡¨ï¼‰ å®ç°å¿«é€Ÿçš„æ’å…¥å’ŒæŸ¥è¯¢ ï¼ˆlognï¼‰
ä¼ ç»Ÿé“¾è¡¨çš„æŸ¥è¯¢é€Ÿåº¦ä¸ºï¼ˆnï¼‰

## 1.æŒ‰é’®è®¾å®š


#å…­ã€shader
1.shaderçš„ä¸»å¾ªç¯ï¼šæ¸²æŸ“ç®¡çº¿
a. â€‹â€‹é¡¶ç‚¹ç€è‰²å™¨ï¼ˆVertex Shaderï¼‰â€‹â€‹
â€‹â€‹ä½œç”¨é˜¶æ®µâ€‹â€‹ï¼šé¡¶ç‚¹å¤„ç†é˜¶æ®µï¼ˆVertex Processingï¼‰ã€‚
â€‹â€‹æ‰§è¡Œæ–¹å¼â€‹â€‹ï¼š
å¯¹ â€‹â€‹æ¯ä¸ªé¡¶ç‚¹â€‹â€‹ æ‰§è¡Œä¸€æ¬¡ã€‚
Godot ä¼šåœ¨æ¸²æŸ“æ¨¡å‹æ—¶ï¼Œè‡ªåŠ¨éå†æ‰€æœ‰é¡¶ç‚¹ï¼Œå¹¶å°†é¡¶ç‚¹æ•°æ®ï¼ˆä½ç½®ã€æ³•çº¿ã€UV ç­‰ï¼‰ä¼ é€’ç»™é¡¶ç‚¹ç€è‰²å™¨ã€‚

b. ç‰‡å…ƒç€è‰²å™¨Fragment Shader
å¯¹ â€‹â€‹æ¯ä¸ªç‰‡å…ƒï¼ˆåƒç´ ï¼‰â€‹â€‹ æ‰§è¡Œä¸€æ¬¡ã€‚
åœ¨å…‰æ …åŒ–é˜¶æ®µåï¼ŒGodot ä¼šä¸ºæ¯ä¸ªè¦†ç›–æ¨¡å‹è¡¨é¢çš„åƒç´ ç”Ÿæˆç‰‡å…ƒï¼Œå¹¶è‡ªåŠ¨è°ƒç”¨ç‰‡å…ƒç€è‰²å™¨ã€‚
ç‰‡æ®µå‡½æ•°çš„æ ‡å‡†ç”¨é€”æ˜¯è®¾ç½®ç”¨äºè®¡ç®—å…‰ç…§çš„æè´¨å±æ€§ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä¸º ROUGHNESSã€RIMã€TRNASMISSION ç­‰è®¾ç½®å€¼ï¼Œ
å‘Šè¯‰å…‰ç…§å‡½æ•°å…‰ç…§åº”è¯¥å¦‚ä½•å¤„ç†å¯¹åº”çš„ç‰‡æ®µã€‚è¿™æ ·å°±å¯ä»¥æ§åˆ¶å¤æ‚çš„ç€è‰²ç®¡çº¿ï¼Œè€Œä¸å¿…è®©ç”¨æˆ·ç¼–å†™è¿‡å¤šçš„ä»£ç ã€‚å¦‚æœä½ ä¸éœ€è¦è¿™ä¸€å†…ç½®åŠŸèƒ½ï¼Œ
é‚£ä¹ˆä½ å¯ä»¥å¿½ç•¥å®ƒï¼Œè‡ªè¡Œç¼–å†™å…‰ç…§å¤„ç†å‡½æ•°ï¼ŒGodot ä¼šå°†å…¶ä¼˜åŒ–æ‰ã€‚
ä¾‹å¦‚ï¼Œå¦‚æœä½ æ²¡æœ‰å‘ RIM å†™å…¥ä»»ä½•å€¼ï¼Œé‚£ä¹ˆ Godot å°±ä¸ä¼šè®¡ç®—è¾¹ç¼˜å…‰ç…§ã€‚
ç¼–è¯‘æ—¶ï¼ŒGodot ä¼šæ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº† RIMï¼›å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šæŠŠå¯¹åº”çš„ä»£ç åˆ é™¤ã€‚å› æ­¤ï¼Œä½ å°±ä¸ä¼šåœ¨æ²¡æœ‰ä½¿ç”¨çš„æ•ˆæœä¸Šæµªè´¹ç®—åŠ›ã€‚

c
å…‰ç…§å¤„ç†å™¨
light() å¤„ç†å™¨ä¹Ÿä¼šåœ¨æ¯ä¸€ä¸ªåƒç´ ä¸Šè¿è¡Œï¼Œå¹¶ä¸”åŒæ—¶è¿˜ä¼šåœ¨æ¯ä¸€ä¸ªå½±å“è¯¥å¯¹è±¡çš„ç¯å…‰ä¸Šè¿è¡Œã€‚å¦‚æœæ²¡æœ‰ç¯å…‰å½±å“è¯¥å¯¹è±¡åˆ™ä¸ä¼šè¿è¡Œã€‚
å®ƒä¼šè¢«ç”¨äº fragment() å¤„ç†å™¨ï¼Œä¸€èˆ¬ä¼šåœ¨ fragment() å‡½æ•°ä¸­è¿›è¡Œæè´¨å±æ€§è®¾ç½®æ—¶æ‰§è¡Œã€‚

## ğŸ¨ å†…ç½®å˜é‡
| å˜é‡å            | ç±»å‹         | Godot ç­‰ä»·ç‰©               | æè¿°                          |
|--------------------|--------------|---------------------------|-------------------------------|
| `fragColor`        | `out vec4`   | `COLOR`                   | åƒç´ è¾“å‡ºé¢œè‰² (Fragment Shader) |
| `fragCoord`        | `vec2`       | `FRAGCOORD.xy`            | å…¨å±å››è¾¹å½¢çš„åƒç´ åæ ‡           |
| `iResolution`      | `vec3`       | `1.0 / SCREEN_PIXEL_SIZE` | å±å¹•åˆ†è¾¨ç‡å€’æ•° (å¯æ‰‹åŠ¨ä¼ é€’)    |

## â± æ—¶é—´ç›¸å…³ Uniform
| å˜é‡å              | ç±»å‹         | æè¿°                          |
|----------------------|--------------|-------------------------------|
| `iTime`             | `float`      | ç€è‰²å™¨å¯åŠ¨åçš„ç´¯è®¡æ—¶é—´ï¼ˆç§’ï¼‰    |
| `iTimeDelta`        | `float`      | å‰ä¸€å¸§çš„æ¸²æŸ“è€—æ—¶ï¼ˆç§’ï¼‰         |
| `iFrame`            | `float`      | ç´¯è®¡æ¸²æŸ“å¸§æ•°                   |
| `iChannelTime[4]`   | `float`      | å„çº¹ç†é€šé“ç‹¬ç«‹è®¡æ—¶ï¼ˆç§’ï¼‰        |

## ğŸ–± è¾“å…¥è®¾å¤‡ Uniform
| å˜é‡å              | ç±»å‹         | æè¿°                          |
|----------------------|--------------|-------------------------------|
| `iMouse`            | `vec4`       | é¼ æ ‡ä½ç½®ï¼ˆåƒç´ åæ ‡ï¼‰           |
| `iDate`             | `vec4`       | å½“å‰æ—¶é—´ `(ç§’, åˆ†, æ—¶, å¹´)`     |

## ğŸ–¼ çº¹ç†ç›¸å…³
### åˆ†è¾¨ç‡å‚æ•°
| å˜é‡å                     | ç±»å‹         | Godot ç­‰ä»·ç‰©               |
|----------------------------|--------------|---------------------------|
| `iChannelResolution[4]`    | `vec3`       | `1.0 / TEXTURE_PIXEL_SIZE` |

### é‡‡æ ·å™¨
| å˜é‡å          | ç±»å‹            | æè¿°                          |
|------------------|-----------------|-------------------------------|
| `iChanneli`      | `sampler2D`     | çº¹ç†é‡‡æ ·å™¨ (Godot é»˜è®¤æä¾› 1 ä¸ª) |

---

## ä½¿ç”¨è¯´æ˜
1. **åæ ‡ç³»ç»Ÿ**  
   `fragCoord` é€‚ç”¨äºå…¨å±å››è¾¹å½¢ï¼Œå°èŒƒå›´å››è¾¹å½¢å»ºè®®ä½¿ç”¨ `UV`

2. **çº¹ç†æ‰©å±•**  
   Godot é»˜è®¤ä»…æä¾› 1 ä¸ªå†…ç½®çº¹ç† (`TEXTURE`)ï¼Œå¯é€šè¿‡è‡ªå®šä¹‰ Uniform æ·»åŠ æ›´å¤šçº¹ç†é€šé“

3. **åˆ†è¾¨ç‡è®¡ç®—**  
   `iResolution` ç­‰ä»·äºå±å¹•åƒç´ å°ºå¯¸çš„å€’æ•°ï¼Œå¯é€šè¿‡ `1.0 / SCREEN_PIXEL_SIZE` è·å–
## å˜é‡ä¼ é€’æ–¹æ³•

### 1. æ’å€¼å˜é‡ï¼ˆVarying Variablesï¼‰
1. **å£°æ˜æ’å€¼å˜é‡**ï¼šåœ¨ç€è‰²å™¨é¡¶éƒ¨ä½¿ç”¨ `varying` å£°æ˜ã€‚
   ```glsl
   varying vec3 custom_data;
	```

# ä¸ƒã€Gameplay

## 1.playerç§»åŠ¨é€»è¾‘ï¼ˆæœ¬è´¨ä¸Šæ˜¯åŠ¨ç”»åˆ‡æ¢+åæ ‡ç§»åŠ¨ï¼‰
å¯¹åº”_physics_process é€šè¿‡Inputè¾“å…¥æ˜ å°„è·å–æ•°å€¼ï¼Œåœ¨characterçš„physical processä¸­å®ç°åŠ¨ç”»åˆ‡æ¢

## 2.æ”»å‡»åŠ¨ç”» ï¼ˆè¾“å…¥å±‚ â†’ åŠ¨ç”»å±‚ â†’ ç”Ÿæˆå±‚ â†’ ç‰©ç†å±‚ â†’ æ•ˆæœå±‚ äº”çº§è§£è€¦ï¼‰
åŒ…å«äº†ä¸¤ä¸ªå¯¹è±¡ player å’Œ bullet
å¦‚æœæˆ‘è¦

##3.collision
collision_layeræ˜¯ä¸€ä¸ªä½æ©ç ï¼ˆbitmaskï¼‰ï¼Œç”¨äºè¡¨ç¤ºè¿™ä¸ªç‰©ä½“å±äºå“ªäº›ç¢°æ’å±‚ã€‚
collision_maskæ˜¯ä¸€ä¸ªä½æ©ç ï¼Œç”¨äºè¡¨ç¤ºè¿™ä¸ªç‰©ä½“ä¼šæ£€æµ‹å“ªäº›ç¢°æ’å±‚ä¸Šçš„ç‰©ä½“ã€‚

è®¾å®š collision layerâ€”â€”1ï¼šä¸»è§’ï¼Œ2ï¼šNPCï¼Œ3ï¼šItemï¼Œ4ï¼šæ•Œäººæ”»å‡»ï¼Œ5ï¼šä¸»è§’æ”»å‡» 6.wall 7 å¯¹è¯

ä¸»è§’çš„maskâ€”â€”234
NPCçš„maskâ€”â€”15
Itemçš„maskâ€”â€”1

wall çš„ maskâ€”â€”123

æ€ªç‰©çš„è¡€é‡ä»¥æ¶åŠ¿æ¡ä¸ºæ ¸å¿ƒ

è§’è‰²æœ‰å››ç±»ç¢°æ’ï¼šæ”»å‡»ã€å—ä¼¤ã€å¯¹è¯ã€è¿åŠ¨

##4.status
ä»¥æ¶åŠ¿æ¡ã€è¡€é‡å’Œä½“åŠ›ä¸ºæ ¸å¿ƒ

# å…«ã€LimboAI AIæ ‘
Sequence Selector Condition AIæ ‘çš„ä¸‰ä¸ªå…³é”®ç»„æˆéƒ¨åˆ†
é€šè¿‡è¿™ä¸‰ä¸ªéƒ¨åˆ†è°ƒç”¨å„ç§å¶å­èŠ‚ç‚¹task

åˆ›å»ºè‡ªå®šä¹‰ä»»åŠ¡æ—¶ï¼Œè¯·æ‰©å±•ä»¥ä¸‹åŸºç±»ä¹‹ä¸€ï¼šBTActionã€BTConditionã€BTDecoratorã€BTCompositeã€‚
```
@tool # è¡¨ç¤ºè¯¥è„šæœ¬åœ¨ç¼–è¾‘å™¨æ¨¡å¼ä¸‹ä¹Ÿå¯è¿è¡Œ
extends BTAction

# Task parameters.
@export var parameter1: float
@export var parameter2: Vector2

## Note: Each method declaration is optional.
## At minimum, you only need to define the "_tick" method.


# Called to generate a display name for the task (requires @tool).
func _generate_name() -> String:
	return "MyTask"


# Called to initialize the task.
func _setup() -> void:
	pass


# Called when the task is entered.
func _enter() -> void:
	pass


# Called when the task is exited.
func _exit() -> void:
	pass


# Called each time this task is ticked (aka executed).
func _tick(delta: float) -> Status:
	return SUCCESS


# Strings returned from this method are displayed as warnings in the editor.
func _get_configuration_warnings() -> PackedStringArray:
	var warnings := PackedStringArray()
	return warnings
```	
 ## æ•ŒäººAIè®¾è®¡
1. **å…¨å±€å±æ€§è®¾ç½®**
  position
è¡€é‡healthã€æ¶åŠ¿postureã€ä½“åŠ›stamina
2. **å¯¹è¯é˜¶æ®µæ–¹æ³•è®¾ç½®**  
positionå›ºå®šï¼Œ
åŠ¨ç”»å›ºå®šï¼Œ
ç¢°æ’ä½“åªæ¿€æ´»å¯¹è¯ç¢°æ’ä½“ï¼Œ
è¡€é‡ã€æ¶åŠ¿ã€ä½“åŠ›æ— å˜åŒ–

3. **æ”»å‡»é˜¶æ®µæ–¹æ³•è®¾ç½®**  
è½»å‡» Light Attack
é‡å‡» Heavy Attack
æ ¼æŒ¡ Block
é—ªé¿ Dodge
